(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09b0b372"],{"2a51":function(e,s,a){"use strict";a.r(s);var r=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"box box-primary"},[e._m(0),a("div",{staticClass:"box-body no-padding"},[a("form",{on:{submit:function(s){return s.preventDefault(),e.changePassword(s)}}},[a("div",{staticClass:"box-body"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Mật khẩu cũ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"password",type:"password",placeholder:"Nhập mật khẩu cũ..."},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}}),a("span",{staticClass:"error"},[e._v(e._s(e.errors.first("password")))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("Mật khẩu mới")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passwordnew,expression:"user.passwordnew"},{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],staticClass:"form-control",attrs:{name:"passwordnew",type:"password",placeholder:"Nhập mật khẩu mới...",id:"passwordnew"},domProps:{value:e.user.passwordnew},on:{input:function(s){s.target.composing||e.$set(e.user,"passwordnew",s.target.value)}}}),a("span",{staticClass:"error"},[e._v(e._s(e.errors.first("passwordnew")))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("Facebook")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.rpasswordnew,expression:"user.rpasswordnew"},{name:"validate",rawName:"v-validate",value:"required|min:6|rPassword",expression:"'required|min:6|rPassword'"}],staticClass:"form-control",attrs:{name:"rpasswordnew",type:"password",placeholder:"Nhập lại mật khẩu mới...",id:"rpasswordnew"},domProps:{value:e.user.rpasswordnew},on:{input:function(s){s.target.composing||e.$set(e.user,"rpasswordnew",s.target.value)}}}),a("span",{staticClass:"error"},[e._v(e._s(e.errors.first("rpasswordnew")))])])]),e._m(1)])])])},t=[function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[e._v("Đổi mật khẩu")])])},function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"box-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Đổi")])])}],o=(a("ac1f"),a("466d"),a("5530")),n=a("2f62"),i=a("7bb1"),u=a("bc3a"),d=a.n(u),l={data:function(){return{api:this.$store.state.domainApi,file:null,image:null,user:{password:"",passwordnew:"",rpasswordnew:""},dictionary:{vi:{custom:{password:{required:"Vui lòng nhập mật khẩu !"},passwordnew:{required:"Vui lòng nhập mật khẩu mới !",min:"Mật khẩu tối thiểu 6 ký tự !"},rpasswordnew:{required:"Vui lòng nhập lại mật khẩu mới !",min:"Mật khẩu tối thiểu 6 ký tự !"}}}}}},methods:{onChangeImage:function(e){var s=this;if(!e.target.files[0].type.match("image.*"))return this.$swal("Vui lòng chọn đúng định dạng hình ảnh!","","error");this.file=e.target.files[0];var a=new FileReader;a.onload=function(e){return s.image=e.target.result},a.readAsDataURL(e.target.files[0])},changePassword:function(){var e=this;this.$validator.validate().then((function(s){if(s){var a=new FormData;a.set("username",e.$store.state.user.username),a.append("password",e.user.password),a.append("passwordnew",e.user.passwordnew),d.a.put("".concat(e.api,"/auth/changepassword"),a,{headers:{Authorization:"Bearer ".concat(e.$store.state.token)}}).then((function(s){console.log(s.data),s.data.success?(e.flash(s.data.message,"success",{timeout:3e3}),e.$router.push({name:"user.profile"})):e.$swal(s.data.message,"","error")}))}}))}},computed:Object(o["a"])({},Object(n["b"])({aboutUser:"getUser"})),created:function(){this.user.avata=this.aboutUser.avata,this.user.fullname=this.aboutUser.fullname,this.user.address=this.aboutUser.address,this.user.facebook=this.aboutUser.facebook,this.user.zalo=this.aboutUser.zalo,i["a"].localize(this.dictionary);var e=new i["a"]({first_name:"alpha"});e.localize("vi"),i["a"].extend("rPassword",{getMessage:function(){return"Mật khẩu không khớp !"},validate:function(){var e=document.getElementById("passwordnew"),s=document.getElementById("rpasswordnew");return e.value==s.value}})}},p=l,c=(a("2c5e"),a("2877")),m=Object(c["a"])(p,r,t,!1,null,null,null);s["default"]=m.exports},"2c5e":function(e,s,a){"use strict";var r=a("9295"),t=a.n(r);t.a},9295:function(e,s,a){}}]);
//# sourceMappingURL=chunk-09b0b372.1b5a5eb0.js.map