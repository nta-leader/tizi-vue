(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c64be634"],{"2e71":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[t._m(0),n("div",{staticClass:"box-body"},[n("div",{attrs:{id:"sidebar"}},[n("ul",{attrs:{id:"navigation"}},[n("li",[n("div",{staticClass:"title",on:{click:function(e){return t.add(0)}}},[t._v(" Thêm ")])]),t._l(t.category,(function(e,a){return n("li",{key:"item"+a},[n("Dropdown",{attrs:{item:e,stt:a,category:t.category}})],1)}))],2)])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box-header with-border"},[n("h3",{staticClass:"box-title"},[t._v("Danh sách các danh mục")])])}],s=(n("a4d3"),n("e01a"),n("d28b"),n("4de4"),n("d3b7"),n("3ca3"),n("ddb0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title",on:{click:function(e){return t.click(t.item.id)}}},[t.item.parent.length?n("i",{class:{"fa fa-chevron-right":!t.isOpenItem,"fa fa-chevron-down":t.isOpenItem}}):t._e(),t._v(" "+t._s(t.item.name)+" ")]),n("div",{staticClass:"control"},[n("a",{staticClass:"add",on:{click:function(e){return t.add(t.item.id)}}},[t._v("Thêm")]),n("a",{staticClass:"edit",on:{click:function(e){return t.edit(t.item.id)}}},[t._v("Sửa")]),n("a",{staticClass:"delete",on:{click:function(e){return t.del(t.stt,t.item.id)}}},[t._v("Xóa")])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.item.parent.length,expression:"item.parent.length"}],class:{"sub-items":!0}},t._l(t.item.parent,(function(e,a){return n("li",{key:"item"+a,staticClass:"sub-item"},[n("transition",{attrs:{name:"expand"}},[t.isOpenItem?n("Dropdown",{attrs:{item:e,stt:a,category:t.category}}):t._e()],1)],1)})),0)])}),r=[],o=(n("99af"),n("a434"),n("bc3a")),c=n.n(o),d={name:"Dropdown",props:["item","stt","category"],data:function(){return{api:this.$store.state.domainApi,isOpenItem:!1}},methods:{click:function(t){this.isOpenItem=!this.isOpenItem,0==this.isOpenItem&&this.sort(this.$store.state.admin.isOpen,this.item.id);var e=this.$store.state.admin.isOpen;e[t]={id:t,status:this.isOpenItem,parent_id:this.item.parent_id},localStorage.isOpen=JSON.stringify(e)},add:function(t){return this.$router.push({name:"route.admin.category.add2",params:{id:t}})},edit:function(t){return this.$router.push({name:"route.admin.category.edit",params:{id:t}})},del:function(t,e){var n=this;this.$swal.fire({title:"Bạn có muốn xóa danh mục",text:"Xóa toàn bộ danh mục con và sản phẩm",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Không, Chưa xóa !",confirmButtonText:"Có, Xóa hết !"}).then((function(a){a.value&&c.a.delete("".concat(n.api,"/admin/category/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){1===e.data.success?(n.category.splice(t,1),n.flash(e.data.message,"success",{timeout:3e3})):n.flash(e.data.message,"error",{timeout:3e3})})).catch((function(t){console.log(t)}))}))},sort:function(t,e){for(var n in t)t[n].parent_id==e&&(t[n].status=!1,this.sort(t,t[n].id))}},created:function(){this.$store.state.admin.isOpen[this.item.id]&&(this.isOpenItem=this.$store.state.admin.isOpen[this.item.id].status)}},u=d,l=(n("d270"),n("2877")),m=Object(l["a"])(u,s,r,!1,null,null,null),h=m.exports,f={name:"CategoryComponent",metaInfo:{title:"Quản lý danh mục"},components:{Dropdown:h},data:function(){return{api:this.$store.state.domainApi,token:this.$store.state.token,category:[]}},methods:{add:function(t){return this.$router.push({name:"route.admin.category.add2",params:{id:t}})},formatJson:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],a=!0,i=!1,s=void 0;try{for(var r,o=t[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var c=r.value;if(c.parent_id===e){var d=this.formatJson(t.filter((function(t){return t.parent_id!=e})),c.id);c.parent=d,n.push(c)}}}catch(u){i=!0,s=u}finally{try{a||null==o.return||o.return()}finally{if(i)throw s}}return n}},created:function(){var t=this;c.a.get("".concat(this.api,"/admin/category"),{headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(e){0!=e.data.success&&(t.category=t.formatJson(e.data))}))}},p=f,v=(n("c237"),Object(l["a"])(p,a,i,!1,null,null,null));e["default"]=v.exports},"425a":function(t,e,n){},"8a2b":function(t,e,n){},c237:function(t,e,n){"use strict";var a=n("425a"),i=n.n(a);i.a},d270:function(t,e,n){"use strict";var a=n("8a2b"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-c64be634.af6880e4.js.map